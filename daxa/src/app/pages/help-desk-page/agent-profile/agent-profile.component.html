<div class="agent-profile-container" *ngIf="agentProfile; else loadingOrError">
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ agentProfile.name }}</mat-card-title>
            <mat-card-subtitle style="padding: 10px 0 10px 0;">STATUS: <span [ngClass]="agentProfile.status === 'ACTIVE' ? 'active-status' : 'inactive-status'">{{ agentProfile.status === 'ACTIVE' ? 'Ativo' : 'Inativo' }}</span></mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <form class="agent-form">
                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Email</mat-label>
                    <input [style.color]="'white'" class="custom-input" matInput [value]="agentProfile.email" disabled>
                </mat-form-field>

                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Telefone</mat-label>
                    <input [style.color]="'white'" class="custom-input" matInput [value]="agentProfile.phoneNumber" disabled>
                </mat-form-field>

                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Informações Adicionais</mat-label>
                    <textarea [style.color]="'white'" class="custom-input" matInput [value]="agentProfile.desInfo" disabled></textarea>
                </mat-form-field>

                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Data de Admissão</mat-label>
                    <input [style.color]="'white'" class="custom-input" matInput [value]="formattedAdmissionDate" disabled>
                </mat-form-field>

                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Salário Base {{ currentMonthName }}</mat-label>
                    <input [style.color]="'white'" matInput [value]="'U$D ' + agentProfile.salarioBase" disabled>
                </mat-form-field>
                <div class="button-container">
                    <button mat-raised-button color="primary" (click)="gerarFolhaPagamento()">
                        Gerar folha de pagamento
                    </button>
                </div>
                    <!--TODO BOTOES-->
<!--                <mat-form-field appearance="fill" class="full-width">-->
<!--                    <mat-label>Status</mat-label>-->
<!--                    <input [style.color]="'white'" class="custom-input" matInput [value]="agentProfile.status === 'ACTIVE' ? 'Ativo' : 'Inativo'" disabled>-->
<!--                </mat-form-field>-->
            </form>
        </mat-card-content>
    </mat-card>
</div>

<ng-template #loadingOrError>
    <div *ngIf="isLoading" class="loading-container">
        <mat-spinner></mat-spinner>
    </div>
    <div *ngIf="errorMessage" class="error-container">
        <mat-icon color="warn">error</mat-icon>
        <span>{{ errorMessage }}</span>
    </div>
</ng-template>
